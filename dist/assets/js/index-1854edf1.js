import{u as f}from"./useHandleData-67c74622.js";import{a as D,d as y}from"./index-76279a73.js";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang-a541ebb9.js";import{r as w,C as x,i as k,d as v,a as h,ah as A,o as l,b as $,f as t,v as s,e as c,g as d,N as _,m as L}from"./index-9844670a.js";const P=()=>{const a=w(),p={requestApi:D,indent:30,columns:[{type:"selection",fixed:"left",width:80},{prop:"id",label:"id",width:100},{prop:"name",label:"名称",search:{el:"input"}},{prop:"code",label:"代码",search:{el:"input"}},{prop:"list",label:"字典值",render:e=>k(C,{info:e.row})},{prop:"brief",label:"备注"},{prop:"operation",label:"操作",width:250,fixed:"right"}]},u=async e=>{var o,m;await f(y,{id:e},"删除所选信息"),(o=a.value)==null||o.clearSelection(),(m=a.value)==null||m.getTableList()},b=async e=>{var o;await f(y,{id:[e.id]},`删除【${e.name}】?`),(o=a.value)==null||o.getTableList()};return x(async()=>{var e;(e=a.value)==null||e.getTableList()}),{proTableRef:a,proTableAttrs:p,batchDelete:u,handleDelete:b}},B={class:"table-box"},N=v({name:"system-dict-list"}),S=v({...N,setup(a){const{proTableRef:p,proTableAttrs:u,batchDelete:b,handleDelete:e}=P();return(o,m)=>{const n=h("el-button"),T=h("ProTable"),r=A("auth");return l(),$("div",B,[k(T,L({ref_key:"proTableRef",ref:p},_(u)),{tableHeader:t(i=>[s((l(),c(n,{type:"primary",icon:"CirclePlus",tag:"router-link",to:"/system/dict/create"},{default:t(()=>[d(" 新增 ")]),_:1})),[[r,"button-create"]]),s((l(),c(n,{type:"danger",icon:"Delete",plain:"",disabled:!i.isSelected,onClick:g=>_(b)(i.selectedListIds)},{default:t(()=>[d(" 批量删除 ")]),_:2},1032,["disabled","onClick"])),[[r,"button-delete"]])]),operation:t(({row:i})=>[s((l(),c(n,{tag:"router-link",to:`/system/dict/${i.id}`,type:"primary",icon:"View",link:""},{default:t(()=>[d(" 查看 ")]),_:2},1032,["to"])),[[r,"button-look"]]),s((l(),c(n,{to:`/system/dict/update?id=${i.id}`,tag:"router-link",type:"primary",link:"",icon:"EditPen"},{default:t(()=>[d(" 编辑 ")]),_:2},1032,["to"])),[[r,"button-update"]]),s((l(),c(n,{type:"primary",link:"",icon:"Delete",onClick:g=>_(e)(i)},{default:t(()=>[d(" 删除 ")]),_:2},1032,["onClick"])),[[r,"button-delete"]])]),_:1},16)])}}});export{S as default};
