import{u as C}from"./useEnumOption-864bad0c.js";import{u as h}from"./useHandleData-67c74622.js";import{d as k}from"./index-79642e56.js";import{r as w,a3 as D,C as x,ak as A,d as v,a as b,ah as P,o,b as $,i as L,f as a,v as s,e as l,g as c,N as _,s as M,h as N,m as R}from"./index-9844670a.js";const V=()=>{const{routerMetaType:f,RouterMetaTypeTag:d}=C(),r=w(),p=D({requestAuto:!1,data:[],indent:10,rowKey:"name",pagination:!1,columns:[{type:"selection",fixed:"left",width:80},{type:"index",label:"#",width:150},{prop:"meta.title",label:"菜单名称"},{prop:"meta.type",label:"菜单类型",enum:f,render:n=>d(n.row.meta.type)},{prop:"name",label:"路由名字"},{prop:"path",label:"路由路径"},{prop:"component",label:"组件路径"},{prop:"meta.icon",label:"菜单图标"},{prop:"operation",label:"操作",width:250,fixed:"right"}]}),m=async n=>{var e,u;await h(k,{id:n},"确定删除所选信息?"),(e=r.value)==null||e.clearSelection(),(u=r.value)==null||u.getTableList()},y=async n=>{var e;await h(k,{id:[n.id]},`确定删除【${n.meta.title}】?`),(e=r.value)==null||e.getTableList()};return x(async()=>{p.data=A.data}),{proTableRef:r,proTableAttrs:p,batchDelete:m,handleDelete:y}},B={class:"table-box"},E=v({name:"system-menu-list"}),I=v({...E,setup(f){const{proTableRef:d,proTableAttrs:r,batchDelete:p,handleDelete:m}=V();return(y,n)=>{const e=b("el-button"),u=b("el-icon"),T=b("ProTable"),i=P("auth");return o(),$("div",B,[L(T,R({ref_key:"proTableRef",ref:d},_(r)),{tableHeader:a(t=>[s((o(),l(e,{type:"primary",icon:"CirclePlus",tag:"router-link",to:"/system/menu/create"},{default:a(()=>[c(" 新增 ")]),_:1})),[[i,"button-create"]]),s((o(),l(e,{type:"danger",icon:"Delete",plain:"",disabled:!t.isSelected,onClick:g=>_(p)(t.selectedListIds)},{default:a(()=>[c(" 批量删除 ")]),_:2},1032,["disabled","onClick"])),[[i,"button-delete"]])]),icon:a(t=>[t.row.meta.icon?(o(),l(u,{key:0,size:18},{default:a(()=>[(o(),l(M(t.row.meta.icon)))]),_:2},1024)):N("",!0)]),operation:a(({row:t})=>[s((o(),l(e,{to:`/system/menu/${t.name}`,tag:"router-link",type:"primary",link:"",icon:"View"},{default:a(()=>[c(" 查看 ")]),_:2},1032,["to"])),[[i,"button-look"]]),s((o(),l(e,{to:`/system/menu/update?id=${t.name}`,tag:"router-link",type:"primary",link:"",icon:"EditPen"},{default:a(()=>[c(" 编辑 ")]),_:2},1032,["to"])),[[i,"button-update"]]),s((o(),l(e,{type:"primary",link:"",icon:"Delete",onClick:g=>_(m)(t)},{default:a(()=>[c(" 删除 ")]),_:2},1032,["onClick"])),[[i,"button-delete"]])]),_:1},16)])}}});export{I as default};
