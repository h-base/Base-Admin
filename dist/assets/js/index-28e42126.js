import{u as y}from"./useHandleData-67c74622.js";import{g as D,d as h}from"./index-64795678.js";import{r as w,C as x,d as v,a as _,ah as A,o as a,b as L,i as k,f as t,v as c,e as i,g as d,N as f,s as P,m as R}from"./index-9844670a.js";const $=()=>{const l=w(),p={requestApi:D,indent:30,columns:[{type:"selection",fixed:"left",width:80},{prop:"id",label:"id",width:100},{prop:"name",label:"角色名称",search:{el:"input"}},{prop:"brief",label:"介绍"},{prop:"auth",label:"权限"},{prop:"operation",label:"操作",width:250,fixed:"right"}]},u=async e=>{var n,m;await y(h,{id:e},"删除所选用户信息"),(n=l.value)==null||n.clearSelection(),(m=l.value)==null||m.getTableList()},b=async e=>{var n;await y(h,{id:[e.id]},`删除【${e.username}】用户`),(n=l.value)==null||n.getTableList()};return x(async()=>{var e;(e=l.value)==null||e.getTableList()}),{proTableRef:l,proTableAttrs:p,batchDelete:u,handleDelete:b}},B={class:"table-box"},N=v({name:"system-role-list"}),S=v({...N,setup(l){const{proTableRef:p,proTableAttrs:u,batchDelete:b,handleDelete:e}=$();return(n,m)=>{const s=_("el-button"),g=_("el-icon"),T=_("ProTable"),r=A("auth");return a(),L("div",B,[k(T,R({ref_key:"proTableRef",ref:p},f(u)),{tableHeader:t(o=>[c((a(),i(s,{type:"primary",icon:"CirclePlus",tag:"router-link",to:"/system/role/create"},{default:t(()=>[d(" 新增 ")]),_:1})),[[r,"button-create"]]),c((a(),i(s,{type:"danger",icon:"Delete",plain:"",disabled:!o.isSelected,onClick:C=>f(b)(o.selectedListIds)},{default:t(()=>[d(" 批量删除 ")]),_:2},1032,["disabled","onClick"])),[[r,"button-delete"]])]),icon:t(o=>[k(g,{size:18},{default:t(()=>[(a(),i(P(o.row.meta.icon)))]),_:2},1024)]),operation:t(({row:o})=>[c((a(),i(s,{to:`/system/role/${o.id}`,tag:"router-link",type:"primary",link:"",icon:"View"},{default:t(()=>[d(" 查看 ")]),_:2},1032,["to"])),[[r,"button-look"]]),c((a(),i(s,{to:`/system/role/update?id=${o.id}`,tag:"router-link",type:"primary",link:"",icon:"EditPen"},{default:t(()=>[d(" 编辑 ")]),_:2},1032,["to"])),[[r,"button-update"]]),c((a(),i(s,{type:"primary",link:"",icon:"Delete",onClick:C=>f(e)(o)},{default:t(()=>[d(" 删除 ")]),_:2},1032,["onClick"])),[[r,"button-delete"]])]),_:1},16)])}}});export{S as default};
